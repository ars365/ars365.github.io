{"version":3,"file":"project_gallery.js","sources":["project_gallery.js"],"sourcesContent":["/* Portfolio -------------- */\nconst projectElement = document.querySelector(\"#project\"), // ㅍ프로젝트 섹션\n  pjtGelleryElement = document.querySelector(\"#pjt_gellery\"), // 갤러리 컨테이너\n  loadMoreBtnElement = projectElement.querySelector(\"#load-more\"); // 리스트 더보기 버튼\n\n//Masonry 준비 및 옵션 설정\nconst msnry = new Masonry(pjtGelleryElement, {\n  columnWidth: \".grid-sizer\",\n  gutter: \".gutter-sizer\",\n  itemSelector: \".pjt_item\",\n  percentPosition: true,\n});\n\nlet pjtItemLen = 0, // 표시 된 전체 항목 수\n  addItemLen = 10, // 한 번에 표시될 항목 수\n  allData = [], // 모든 JSON 데이터\n  filteredData = [], // 필터링 된 JSON 데이터;\n  infinitSrcTimer; // 갤러리 무한 스크롤링 setTimeout Throttle에 사용\n\n// 780이하 해상도 : 한 번에 표시 할 항목 수\nif (window.innerWidth < 780) {\n  addItemLen = 6;\n}\n\n// JSON을 검색하고 initGallery 함수를 실행\nfetch(\"/src/json/project_detail.json\")\n  .then((response) => response.json())\n  .then((data) => initGallery(data))\n  .catch((error) => console.error(error));\n\n// 갤러리 초기화\nconst initGallery = (data) => {\n  // 취득한 JSON 데이터를 저장\n  allData = data;\n\n  // 초기 상태에서는 필터링하지 않고 그대로 전체 데이터를 전달\n  filteredData = allData;\n\n  projectElement.classList.add(\"is-loading\");\n\n  // 첫 번째 항목을 표시\n  setTimeout(() => {\n    addItems();\n  }, 300);\n};\n\n// 항목을 생성하고 문서에 삽입\nconst addItems = async () => {\n  let pjtCtt = [];\n  // 추가 데이터의 배열\n  const slicedData = filteredData.slice(pjtItemLen, pjtItemLen + addItemLen);\n\n  // slicedData의 요소마다 DOM 요소를 생성\n  for (const item of slicedData) {\n    let itemHTML = \"\";\n\n    // 리스트 썸네일\n    itemHTML += '<li class=\"pjt_item ';\n\n    // 썸네일 길이 : long\n    if (item.images.thumb_h) itemHTML += \"thumb_h_\" + item.images.thumb_h + \" \";\n\n    itemHTML +=\n      'is-loading\">' + // masonry loding cloass\n      '<div class=\"pjt_thumb\">' +\n      '<div class=\"img_box\"><img src=\"' +\n      item.images.thumb + // 썸네일 이미지\n      '\" alt=\"\"/></div>' +\n      '<div class=\"txt_box\">' +\n      \"<h4>\" +\n      item.title + // 썸네일 타이틀\n      \"</h4>\" +\n      '<p class=\"pjt_intro\">' +\n      item.intro + // 사이트 간략 설명 (서브 타이틀)\n      \"</p>\" +\n      \"<ul>\" +\n      '<li><span class=\"pjt_item_tit\"><i class=\"fas fa-chart-bar\" title=\"참여율\"></i></span><span class=\"pf_item_ctt\">' +\n      item.part + // 썸네일 참여율\n      \"</span></li>\" +\n      '<li><span class=\"pjt_item_tit\"><i class=\"fas fa-calendar-alt\" title=\"프로젝트기간\"></i></span><span class=\"pf_item_ctt\">' +\n      item.period + // 썸네일 프로젝트 기간\n      \"</span></li>\" +\n      \"</ul>\" +\n      \"</div>\" +\n      \"</div>\" +\n      // 썸네일 호버\n      '<div class=\"pjt_hover\">' +\n      '<div class=\"btn_box\"><ul>' +\n      // 썸네일 호버 내 버튼\n      '<li class=\"detail_btn\"><button type=\"button\" title=\"자세히보기\"><i class=\"fa fa-search\"></i></button></li>';\n\n    // 사이트 링크 있을 때\n    if (item.link) {\n      // 사이트 링크 URL\n      itemHTML += '<li class=\"siteLink_btn\"><a href=\"' + item.link + '\" title=\"새창';\n\n      // 사이트 링크 툴팁\n      if (item.linkTitle) itemHTML += \" : \" + item.linkTitle;\n\n      itemHTML +=\n        '\" target=\"_blank\"><i class=\"fa fa-link\"></i><span>사이트 바로가기</span></a></li>';\n    }\n\n    itemHTML +=\n      \"</ul></div>\" +\n      \"</div>\" +\n      // 프로젝트 레이어 팝업\n      '<div class=\"pjt_detail\">' +\n      '<div class=\"pjt_layer\">' +\n      '<div class=\"pjt_layer_tit\">' +\n      '<h4 class=\"pjt_main_tit\">' +\n      item.title + // 타이틀\n      \"</h4>\" +\n      '<p class=\"pjt_intro\">' +\n      item.intro + // 사이트 간략 설명 (서브 타이틀)\n      \"</p>\" +\n      \"</div>\" +\n      '<div class=\"pjt_layer_ctt\">' +\n      '<div class=\"pjt_info\">' +\n      '<div class=\"pjt_info_type\">' +\n      '<ul class=\"type_device\">'; // 지원 기기\n\n    // PC 버전 지원시 (only pc, responsive, pc&mobile)\n    if (item.device !== \"MOBILE\" || item.device === \"RESPONSIVE\") {\n      itemHTML += '<li><i class=\"fas fa-desktop\" title=\"PC\"></i></li>';\n    }\n\n    // 모바일 버전 지원시 (only mobile, responsive, pc&mobile)\n    if (item.device !== \"PC\" || item.device === \"RESPONSIVE\") {\n      itemHTML += '<li><i class=\"fas fa-mobile-alt\" title=\"Mobile\"></i></li>';\n    }\n\n    // 반응형 지원시 (responsive)\n    if (item.device === \"RESPONSIVE\") {\n      itemHTML +=\n        '<li class=\"responsive\"><i class=\"fas fa-sync-alt fa-sync\" title=\"반응형\"></i></li>';\n    }\n\n    itemHTML +=\n      \"</ul>\" +\n      '<ul class=\"type_browser\">' + // 지원 브라우저\n      '<li class=\"chrome\"><i title=\"Chrome\"></i></li>'; // 크롬 지원\n\n    // ie 지원시\n    if (item.browser.ie) {\n      itemHTML +=\n        '<li class=\"ie\"><i title=\"Internet Explorer\"></i><span class=\"browser_ver\">' +\n        item.browser.ie + // ie 버전\n        \"</span></li>\";\n    }\n\n    // safari 지원\n    if (item.browser.safari) {\n      itemHTML += '<li class=\"safari\"><i title=\"Safari\"></i></li>';\n    }\n\n    itemHTML +=\n      \"</ul>\" +\n      \"</div>\" +\n      '<div class=\"txt_basic_sub\">' +\n      '<ul class=\"pjt_ctt\">' +\n      \"<li>\" +\n      '<span class=\"pjt_item_tit\">프로젝트기간<i class=\"fas fa-calendar-alt\"></i></span>' +\n      '<span class=\"pjt_item_ctt\">' +\n      item.period + // 프로젝트 기간\n      \"</span>\" +\n      \"</li>\" +\n      \"<li>\" +\n      '<span class=\"pjt_item_tit\">구성원<i class=\"fas fa-users\"></i></span>' +\n      '<span class=\"pjt_item_ctt\">' +\n      item.member + // 프로젝트 구성원\n      \"</span>\" +\n      \"</li>\" +\n      \"<li>\" +\n      '<span class=\"pjt_item_tit\">주요역할<i class=\"fas fa-user-tag\"></i></span>' +\n      '<span class=\"pjt_item_ctt\">' +\n      item.main_role + // 주요역할\n      \"</span>\" +\n      \"</li>\" +\n      \"<li>\" +\n      '<span class=\"pjt_item_tit\">참여율<i class=\"fas fa-chart-bar\"></i></span>' +\n      '<span class=\"pjt_item_ctt\">' +\n      item.part + // 참여율\n      \"</span>\" +\n      \"</li>\" +\n      \"<li>\" +\n      '<span class=\"pjt_item_tit\">사용언어<i class=\"fas fa-code\"></i></span>' +\n      '<span class=\"pjt_item_ctt\">' +\n      item.language + // 사용언어\n      \"</span>\" +\n      \"</li>\" +\n      \"<li>\" +\n      '<span class=\"pjt_item_tit\">개발환경<i class=\"fas fa-laptop-code\"></i></span>' +\n      '<span class=\"pjt_item_ctt\">' +\n      item.task_environment + // 개발환경\n      \"</span>\" +\n      \"</li>\";\n\n    // 사이트 링크 있을 때\n    if (item.link) {\n      itemHTML +=\n        \"<li>\" +\n        '<span class=\"pjt_item_tit\">웹사이트<i class=\"fas fa-external-link-alt\"></i></span>' +\n        '<span class=\"pjt_item_ctt\"><a href=\"' +\n        item.link + // 사이트 링크 URL\n        '\" title=\"새창\" target=\"_blank\">' +\n        item.link + // 사이트 링트 텍스트\n        \"</a>\";\n\n      // 사이트 링크 툴팁 있을 때\n      if (item.linkTitle)\n        itemHTML += ' <br /><em class=\"lint_desc\"><b>(' + item.linkTitle + \")</b></em>\";\n\n      itemHTML += \"</span></li>\";\n    }\n\n    itemHTML +=\n      \"</ul>\" +\n      \"</div>\" +\n      \"</div>\" +\n      // 작업 상세 텝 메뉴\n      '<div class=\"pjt_info_detail tab_wrap\">' +\n      '<ul class=\"txt_detail_tit tab_tit\">';\n\n    // 업무범위 있을 때\n    if (item.work.scope) {\n      itemHTML += '<li class=\"on\"><i class=\"fas fa-tasks\"></i>업무범위</li>';\n    }\n\n    // 주요기여 있을 때\n    if (item.work.task) {\n      itemHTML += '<li><i class=\"fas fa-graduation-cap\"></i>주요기여</li>';\n    }\n\n    // 주요성과 있을 때\n    if (item.work.result) {\n      itemHTML += '<li><i class=\"fas fa-trophy\"></i>주요성과</li>';\n    }\n\n    itemHTML += \"</ul>\" + '<ul class=\"txt_detail_ctt tab_ctt\">';\n\n    // 프로젝트 상세 설명 리스트 출력 함수\n    const generateHTML = (item, className) => {\n      let itemHTML = \"\";\n      if (item && item.length > 0) {\n        itemHTML += '<li class=\"' + className + '\">';\n\n        // 각 아이템별 빈 값, 빈 문자열일 경우 비노출\n        item.forEach((workItem) => {\n          // 메인 타이틀\n          if (workItem.main_tit && workItem.main_tit.length > 0) {\n            if (workItem.main_tit.Length !== 1 && workItem.main_tit[0] !== \"\")\n              itemHTML += '<strong class=\"work_main_tit\">' + workItem.main_tit + \"</strong>\";\n          }\n          // 서브타이틀\n          if (workItem.sub_tit && workItem.sub_tit.length > 0) {\n            workItem.sub_tit.forEach(function (subTitItem, sTitIdx) {\n              if (workItem.sub_tit.Length !== 1 && workItem.sub_tit[0] !== \"\")\n                itemHTML += '<em class=\"work_sub_tit\">' + subTitItem + \"</em>\";\n\n              // 번호 리스트\n              if (workItem.ol && workItem.ol.length > sTitIdx) {\n                var isOl = workItem.ol[0].Length !== 1 && workItem.ol[0][0] !== \"\";\n                if (isOl) itemHTML += '<ol class=\"work_ol\">';\n\n                workItem.ol[sTitIdx].forEach(function (olItem, olIdx) {\n                  // 리스트별 아이템\n                  if (isOl) itemHTML += \"<li><span>\" + olItem + \"</span>\";\n\n                  // 블릿 리스트\n                  if (\n                    workItem.ul &&\n                    workItem.ul.length > sTitIdx &&\n                    workItem.ul[sTitIdx][olIdx].length !== 0\n                  ) {\n                    itemHTML += '<ul class=\"work_ul\">';\n                    workItem.ul[sTitIdx][olIdx].forEach(function (ulItem) {\n                      itemHTML += \"<li>\" + ulItem + \"</li>\";\n                    });\n                    itemHTML += \"</ul>\";\n                  }\n                  if (isOl) itemHTML += \"</li>\";\n                });\n                if (isOl) itemHTML += \"</ol>\";\n              }\n            });\n          }\n        });\n\n        itemHTML += \"</li>\";\n      }\n\n      return itemHTML;\n    };\n\n    // 프로젝트 업무범위\n    if (item.work.scope) {\n      itemHTML += generateHTML(item.work.scope, \"detail_scope on\");\n    }\n\n    // 프로젝트 주요기여\n    if (item.work.task) {\n      itemHTML += generateHTML(item.work.task, \"detail_task\");\n    }\n\n    // 프로젝트 주요성과\n    if (item.work.result) {\n      itemHTML += generateHTML(item.work.result, \"detail_result\");\n    }\n\n    itemHTML +=\n      \"</ul>\" +\n      \"</div>\" +\n      '<div class=\"pjt_detail_img\"><img src=\"' +\n      item.images.detail + // 포폴 상세 이미지\n      '\" alt=\"포트폴리오 상세\" /></div>' +\n      \"</div>\" +\n      '<button type=\"button\" class=\"btn_close\"><span>닫기</span></button>' +\n      \"</div>\" +\n      '<div class=\"close_bg\"></div>' +\n      \"</div>\" +\n      \"</li>\";\n\n    // 생선된 html을 Dom으로 변환 후 저장\n    const parser = new DOMParser();\n    const doc = parser.parseFromString(itemHTML, \"text/html\");\n    pjtCtt.push(doc.body.firstChild);\n  }\n\n  // DOM 요소의 배열을 컨테이너에 삽입\n  pjtCtt.forEach((pjtCttElement) => {\n    pjtGelleryElement.appendChild(pjtCttElement);\n  });\n\n  // Masonry에 데이터를 추가후 재정렬\n  msnry.appended(pjtCtt);\n\n  // ImageLoaded 완료 후 노출\n  imagesLoaded(pjtGelleryElement).on(\"progress\", () => {\n    setTimeout(() => {\n      // 로딩 완료 후 로딩 관련 클래스 삭제\n      loadMoreBtnElement.classList.remove(\"is-loading\");\n      document.querySelectorAll(\".pjt_item\").forEach((item) => item.classList.remove(\"is-loading\"));\n    }, 300);\n\n    setTimeout(() => {\n      projectElement.classList.remove(\"is-loading\");\n    }, 100);\n\n    setTimeout(() => {\n      // masonry 재정렬\n      msnry.layout();\n    }, 150);\n  });\n\n  // 추가 된 항목 수량 갱신\n  pjtItemLen += slicedData.length;\n\n  // JSON 데이터가 전부 추가 된 경우 버튼 삭제\n  if (pjtItemLen < filteredData.length) {\n    loadMoreBtnElement.style.display = \"block\";\n  } else {\n    loadMoreBtnElement.style.display = \"none\";\n  }\n};\n\n// 리스트 필터링\nconst filterItems = () => {\n  const keyCpn = document\n      .querySelector(\".filter-type-cpn\")\n      .querySelector('input[type=\"radio\"]:checked').value, // 회사별 필터\n    keyBiz = document\n      .querySelector(\".filter-type-biz\")\n      .querySelector('input[type=\"radio\"]:checked').value, // 사업유형별 필터\n    keyDevice = document\n      .querySelector(\".filter-type-device\")\n      .querySelector('input[type=\"radio\"]:checked').value, // 지원기기별 필터\n    keyLinked = document\n      .querySelector(\".filter-type-linked\")\n      .querySelector('input[type=\"checkbox\"]').checked, // 링크 여부 필터\n    masonryItems = Array.from(pjtGelleryElement.querySelectorAll(\".pjt_item\")); // 추가 된 Masonry 아이템\n\n  // Masonry 항목을 삭제\n  msnry.remove(masonryItems);\n  projectElement.classList.add(\"is-loading\");\n\n  // 필터링 된 항목의 데이터를 재설정과\n  // 추가 된 항목 수를 재설정\n  filteredData = [];\n  pjtItemLen = 0;\n\n  if (keyCpn === \"ALL\") {\n    // 1차필터링 - all이 클릭 된 경우 모든 JSON 데이터를 저장\n    filteredData = allData;\n  } else {\n    // all 이외의 경우, 키와 일치하는 데이터를 추출\n    filteredData = allData.filter((item) => item.company === keyCpn);\n  }\n\n  if (keyBiz !== \"ALL\") {\n    // 2차 필터링 - device\n    filteredData = filteredData.filter((item) => item.business === keyBiz);\n  }\n\n  if (keyDevice !== \"ALL\") {\n    // 2차 필터링 - device\n    filteredData = filteredData.filter((item) => item.device === keyDevice);\n  }\n\n  if (keyLinked) {\n    // 3차 필터링 - linked\n    filteredData = filteredData.filter((item) => {\n      // link 값이 있을 때 필터링\n      let linkFt = item.link ? true : false;\n      return linkFt === keyLinked;\n    });\n  }\n\n  const pJtEmptyWrapElement = document.querySelector(\".project_empty_wrap\");\n  // 이전 필터링 결과가 없을 때\n  if (pJtEmptyWrapElement) {\n    // 필터 초기화 화면 삭제\n    pJtEmptyWrapElement.classList.remove(\"active\");\n\n    // 버튼 삭제\n    setTimeout(() => {\n      pJtEmptyWrapElement.remove();\n    }, 100);\n  }\n\n  // 필터된 내용이 없을 경우\n  if (filteredData.length === 0) {\n    const emptyElement = document.createElement(\"div\"),\n      emptyHTML =\n        '<p class=\"guide_txt\">조건과 일치하는 프로젝트가 업습니다.</p>' +\n        '<span class=\"reset_btn_wrap\">' +\n        '<button type=\"button\" class=\"reset_filter_btn\"></span>' +\n        '<i class=\"fas fa-sync-alt\"></i>' +\n        '<span class=\"btn_txt\">필터 초기화</span>' +\n        \"</button>\";\n\n    emptyElement.classList.add(\"project_empty_wrap\");\n    emptyElement.style.display = \"block\";\n    emptyElement.innerHTML = emptyHTML;\n\n    setTimeout(() => {\n      // 로딩바 제거\n      projectElement.classList.remove(\"is-loading\");\n    }, 100);\n\n    setTimeout(() => {\n      // 필터 초기화 화면 노출\n      pjtGelleryElement.insertAdjacentElement(\"afterend\", emptyElement);\n      emptyElement.classList.add(\"active\");\n    }, 400);\n  }\n\n  // 항목을 추가\n  setTimeout(() => {\n    addItems();\n  }, 100);\n};\n\n// 필터 라디오 버튼이 변경되면 필터링을 수행\ndocument.querySelector(\"#gellery-filter\").addEventListener(\"change\", (e) => {\n  if (e.target.matches(\".form-item input\")) {\n    filterItems();\n  }\n});\n\n// 필터 초기화 버튼 클릭 이벤트\ndocument.addEventListener(\"click\", (e) => {\n  const target = e.target,\n    pJtEmptyWrapElement = document.querySelector(\".project_empty_wrap\"),\n    isReseFiltertBtn = target.classList.contains(\"reset_filter_btn\");\n\n  if (isReseFiltertBtn || target.closest(\".reset_filter_btn\")) {\n    pJtEmptyWrapElement.classList.remove(\"active\");\n\n    // 버튼 삭제\n    setTimeout(() => {\n      pJtEmptyWrapElement.remove();\n    }, 100);\n\n    filteredData = allData;\n    addItems();\n\n    // 필터 초기화\n    Array.from(document.querySelectorAll(\".form-item:first-child:not(.chkItem) input\")).forEach(\n      (filterItem) => {\n        filterItem.checked = true;\n      }\n    );\n  }\n});\n\n// 프로젝트 리스트별 클릭 이벤트\npjtGelleryElement.addEventListener(\"click\", (e) => {\n  const target = e.target,\n    pjtItemElement = target.closest(\".pjt_item\"),\n    isDetailBtn = target.classList.contains(\"detail_btn\"),\n    isDetailCloseBtn = target.matches(\".close_bg, .btn_close\"),\n    isTabBtn = target.matches(\".tab_tit > li\");\n\n  if (isDetailBtn || target.closest(\".detail_btn\")) {\n    // 썸네일 호버 내 상세보기 버튼 클릭시\n    const pjtDetailElements = pjtItemElement.querySelectorAll(\".pjt_detail\");\n\n    body.style.overflowY = \"hidden\"; // 바닥페이지 스크롤 고정\n    headerElement.style.display = \"none\"; // 헤더 숨김\n    Array.from(pjtDetailElements).forEach((pjtDatail) => {\n      pjtDatail.style.display = \"block\"; // 프로젝트 상세 팝업 오픈\n    });\n  } else if (isDetailCloseBtn || target.closest(\".btn_close\")) {\n    // 프로젝트 상세 레이어 닫기\n    const pjtDetailElements = pjtItemElement.querySelectorAll(\".pjt_detail\");\n\n    body.style.overflowY = \"auto\";\n    headerElement.style.display = \"block\";\n\n    // 썸네일 호버 내 상세보기 버튼 클릭시\n    Array.from(pjtDetailElements).forEach((pjtDatail) => {\n      pjtDatail.classList.remove(\"on\"); // 프로젝트 상세 팝업 오픈\n      pjtDatail.style.display = \"none\";\n    });\n  } else if (isTabBtn || target.closest(\".tab_tit > li\")) {\n    //== 프로젝트 팝업 내 상세 설명 탭 메뉴 온오프\n    const tabTitItemElements = pjtItemElement.querySelectorAll(\".tab_tit > li\"),\n      tabCtttemElements = pjtItemElement.querySelectorAll(\".tab_ctt > li\");\n\n    Array.from(tabTitItemElements).forEach((tabTititem, tabTitIdx) => {\n      // 클락한 탭 탭 타이틀 활성화\n      if (tabTititem === target || tabTititem.contains(target)) {\n        tabTititem.classList.add(\"on\");\n\n        // 탭 콘텐츠 활성화\n        Array.from(tabCtttemElements).forEach((tabCttItem, tabCttIdx) => {\n          if (tabCttIdx === tabTitIdx) {\n            tabCttItem.classList.add(\"on\");\n          } else {\n            tabCttItem.classList.remove(\"on\");\n          }\n        });\n      } else {\n        // 클릭한 탭이 아닐 경우 비활성화\n        tabTititem.classList.remove(\"on\");\n      }\n    });\n  }\n});\n\n//= 리스트에 마우스 오버시 호버 효과\n// 마우스의 방향을 감지하는 함수\n// http://stackoverflow.com/a/3647634\nconst getMouseDirection = (e) => {\n  let crntTarget = e.currentTarget,\n    offset = crntTarget.getBoundingClientRect(),\n    w = crntTarget.offsetWidth,\n    h = crntTarget.offsetHeight,\n    x = e.pageX - (offset.left + window.scrollX) - w / 2,\n    y = e.pageY - (offset.top + window.scrollY) - h / 2,\n    direction = Math.round((Math.atan2(y, x) * (180 / Math.PI) + 180) / 90 + 3) % 4;\n\n  return direction;\n};\n\n// 호버 효과\nconst hoverDirection = (e) => {\n  const hoverElement = e.currentTarget.querySelector(\".pjt_hover\"),\n    side = getMouseDirection(e);\n\n  let animateTo,\n    positionIn = {\n      top: \"0%\",\n      left: \"0%\",\n    },\n    positionOut = (() => {\n      switch (side) {\n        // case 0: top, case 1: right, case 2: bottom, default: left\n        case 0:\n          return { top: \"-100%\", left: \"0%\" };\n        case 1:\n          return { top: \"0%\", left: \"100%\" };\n        case 2:\n          return { top: \"100%\", left: \"0%\" };\n        default:\n          return { top: \"0%\", left: \"-100%\" };\n      }\n    })();\n\n  if (e.type === \"mouseenter\") {\n    animateTo = positionIn;\n    hoverElement.style.top = positionOut.top;\n    hoverElement.style.left = positionOut.left;\n  } else {\n    animateTo = positionOut;\n  }\n\n  hoverElement.classList.remove(\"hover_effect\");\n  setTimeout(() => {\n    hoverElement.classList.add(\"hover_effect\");\n    hoverElement.style.top = animateTo.top;\n    hoverElement.style.left = animateTo.left;\n  }, 10);\n};\n// 호벼 이벤트\nconst pjtItemnHoverEvents = (el) => {\n  [\"mouseenter\", \"mouseleave\"].forEach((eventType) => {\n    el.addEventListener(eventType, hoverDirection);\n  });\n};\n// 초기 상세 리스트별 호벼 효과 등록\nconst pjtItemElements = document.querySelectorAll(\".pjt_item\");\nArray.from(pjtItemElements).forEach((pjtItemElement) => {\n  pjtItemnHoverEvents(pjtItemElement);\n});\n// 동적 생성 상세 리스트별 호벼 효과 추가 등록\nconst dynamicPjtItemHoverEvents = (mutationsList) => {\n  for (let mutation of mutationsList) {\n    if (mutation.type === \"childList\") {\n      const addedNodes = mutation.addedNodes;\n      Array.from(addedNodes).forEach((addedNode) => {\n        if (addedNode.nodeType === Node.ELEMENT_NODE && addedNode.classList.contains(\"pjt_item\")) {\n          pjtItemnHoverEvents(addedNode);\n        }\n      });\n    }\n  }\n};\n// 동적 생성여부 관철 후 이벤트 등록\nconst pjtItemHoverObserver = new MutationObserver(dynamicPjtItemHoverEvents);\npjtItemHoverObserver.observe(pjtGelleryElement, { childList: true, subtree: true });\n\n// 리스트 더보기 버튼 클릭시 리스트 추가\nloadMoreBtnElement.addEventListener(\"click\", (e) => {\n  e.target.classList.add(\"is-loading\"); // 로딩중\n\n  setTimeout(() => {\n    addItems(); // 리스트 추가\n  }, 300);\n\n  setTimeout(() => {\n    imagesLoaded(pjtGelleryElement).on(\"progress\", () => {\n      msnry.layout();\n    });\n  }, 450);\n});\n\n// 스크롤 이벤트\nwindow.addEventListener(\"scroll\", () => {\n  // 스플래시 완료 후 && infinitSrcTimer Throttling\n  if (start > 0 && !infinitSrcTimer) {\n    const winH = window.innerHeight, // 뷰포트 높이\n      galleryTop = projectElement.offsetTop, // 갤러리 상단 스크롤값\n      galleryBtm = projectElement.offsetTop + projectElement.offsetHeight; // 갤러리 하단 스크롤값\n\n    let infinitStart = galleryTop < lastScrTop, // 무한스크롤 시작되는 스크롤값\n      infinitEnd = galleryBtm > lastScrTop; // 무한스크롤 끝나는 스크롤값\n\n    // 500ms 마다 스크롤 체크\n    infinitSrcTimer = setTimeout(() => {\n      const cntScrTop = window.scrollY, // 현재 상단 스크롤값\n        winBtm = cntScrTop + winH; // 현재 하단 스크롤값\n\n      infinitSrcTimer = null;\n\n      // 최초 로드시 갤러리 하단에서 시작할 때 미리 무한 스크롤링 되는 현상 방지\n      // 무한 스크롤 범위 안에 있을때 && 아래로 스크롤 할때 && 현재 하단 스크롤값이 갤러리 하단보다 클 때\n      if (infinitStart && infinitEnd && cntScrTop > lastScrTop && winBtm >= galleryBtm) {\n        loadMoreBtnElement.classList.add(\"is-loading\");\n\n        setTimeout(() => {\n          addItems();\n        }, 500);\n\n        setTimeout(() => {\n          imagesLoaded(pjtGelleryElement).on(\"progress\", () => {\n            msnry.layout();\n          });\n        }, 650);\n      }\n      lastScrTop = cntScrTop; // 마지막 스크롤값 갱신\n    }, 350);\n  }\n});\n"],"names":["projectElement","document","querySelector","pjtGelleryElement","loadMoreBtnElement","msnry","Masonry","columnWidth","gutter","itemSelector","percentPosition","let","pjtItemLen","addItemLen","allData","filteredData","infinitSrcTimer","window","innerWidth","fetch","then","response","json","initGallery","data","catch","console","error","classList","add","setTimeout","addItems","async","pjtCtt","slicedData","slice","item","itemHTML","images","thumb_h","thumb","title","intro","part","period","link","linkTitle","device","browser","ie","safari","member","main_role","language","task_environment","work","scope","task","result","generateHTML","className","length","forEach","workItem","main_tit","Length","sub_tit","subTitItem","sTitIdx","isOl","ol","olItem","olIdx","ul","ulItem","detail","doc","DOMParser","parseFromString","push","body","firstChild","appendChild","pjtCttElement","appended","imagesLoaded","on","remove","querySelectorAll","layout","style","display","filterItems","keyCpn","value","keyBiz","keyDevice","keyLinked","checked","masonryItems","Array","from","pJtEmptyWrapElement","filter","company","business","emptyElement","createElement","innerHTML","insertAdjacentElement","getMouseDirection","addEventListener","e","target","matches","isReseFiltertBtn","contains","closest","filterItem","pjtItemElement","isDetailBtn","isDetailCloseBtn","isTabBtn","pjtDetailElements","overflowY","headerElement","pjtDatail","tabTitItemElements","tabCtttemElements","tabTititem","tabTitIdx","tabCttItem","tabCttIdx","crntTarget","currentTarget","offset","getBoundingClientRect","w","offsetWidth","h","offsetHeight","x","pageX","left","scrollX","y","pageY","top","scrollY","Math","round","atan2","PI","hoverDirection","hoverElement","side","animateTo","positionOut","type","pjtItemnHoverEvents","el","eventType","pjtItemElements","dynamicPjtItemHoverEvents","mutation","mutationsList","addedNodes","addedNode","nodeType","Node","ELEMENT_NODE","pjtItemHoverObserver","MutationObserver","observe","childList","subtree","start","winH","innerHeight","galleryTop","offsetTop","galleryBtm","infinitStart","lastScrTop","infinitEnd","cntScrTop","winBtm"],"mappings":"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"}